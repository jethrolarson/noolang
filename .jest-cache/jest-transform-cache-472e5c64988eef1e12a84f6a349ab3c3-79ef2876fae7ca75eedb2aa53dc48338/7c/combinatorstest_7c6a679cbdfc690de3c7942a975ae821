e57e64e4d61d3687102b591f0da449d2
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const lexer_1 = require("../src/lexer");
const C = __importStar(require("../src/parser/combinators"));
describe("Parser Combinators", () => {
    // Helper function to create tokens for testing
    const createTokens = (input) => {
        const lexer = new lexer_1.Lexer(input);
        return lexer.tokenize();
    };
    // Helper function to create tokens without EOF for testing
    const createTokensWithoutEOF = (input) => {
        const lexer = new lexer_1.Lexer(input);
        const tokens = lexer.tokenize();
        // Remove EOF token for testing
        return tokens.filter((t) => t.type !== "EOF");
    };
    describe("token", () => {
        test("should match exact token type and value", () => {
            const tokens = createTokensWithoutEOF("42");
            const result = C.token("NUMBER", "42")(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
                expect(result.remaining).toHaveLength(0);
            }
        });
        test("should match token type without value constraint", () => {
            const tokens = createTokens("42");
            const result = C.token("NUMBER")(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
            }
        });
        test("should fail on wrong token type", () => {
            const tokens = createTokens("42");
            const result = C.token("IDENTIFIER")(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected IDENTIFIER");
                expect(result.error).toContain("but got NUMBER");
            }
        });
        test("should fail on wrong token value", () => {
            const tokens = createTokens("42");
            const result = C.token("NUMBER", "43")(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected NUMBER '43'");
                expect(result.error).toContain("but got NUMBER '42'");
            }
        });
        test("should fail on empty input", () => {
            const result = C.token("NUMBER")([]);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected NUMBER");
                expect(result.error).toContain("but got end of input");
            }
        });
    });
    describe("anyToken", () => {
        test("should match any token", () => {
            const tokens = createTokensWithoutEOF("42");
            const result = C.anyToken()(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
                expect(result.remaining).toHaveLength(0);
            }
        });
        test("should fail on empty input", () => {
            const result = C.anyToken()([]);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toBe("Expected any token, but got end of input");
            }
        });
    });
    describe("seq", () => {
        test("should match sequence of parsers", () => {
            const tokens = createTokensWithoutEOF("x = 42");
            const parser = C.seq(C.identifier(), C.operator("="), C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(3);
                expect(result.value[0].type).toBe("IDENTIFIER");
                expect(result.value[0].value).toBe("x");
                expect(result.value[1].type).toBe("OPERATOR");
                expect(result.value[1].value).toBe("=");
                expect(result.value[2].type).toBe("NUMBER");
                expect(result.value[2].value).toBe("42");
                expect(result.remaining).toHaveLength(0);
            }
        });
        test("should fail if any parser in sequence fails", () => {
            const tokens = createTokens("x = 42");
            const parser = C.seq(C.identifier(), C.operator("+"), // Wrong operator
            C.number());
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected OPERATOR '+'");
                expect(result.error).toContain("but got OPERATOR '='");
            }
        });
        test("should handle empty sequence", () => {
            const tokens = createTokens("x = 42");
            const parser = C.seq();
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(0);
                expect(result.remaining).toEqual(tokens);
            }
        });
    });
    describe("choice", () => {
        test("should match first successful parser", () => {
            const tokens = createTokens("42");
            const parser = C.choice(C.number(), C.identifier(), C.string());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
            }
        });
        test("should try all parsers in order", () => {
            const tokens = createTokens("hello");
            const parser = C.choice(C.number(), C.identifier(), C.string());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("IDENTIFIER");
                expect(result.value.value).toBe("hello");
            }
        });
        test("should fail if all parsers fail", () => {
            const tokens = createTokens("42");
            const parser = C.choice(C.identifier(), C.string());
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected IDENTIFIER");
                expect(result.error).toContain("but got NUMBER");
            }
        });
        test("should handle empty choice", () => {
            const tokens = createTokens("42");
            const parser = C.choice();
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toBe("");
            }
        });
    });
    describe("many", () => {
        test("should match zero or more occurrences", () => {
            const tokens = createTokens("1 2 3");
            const parser = C.many(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(3);
                expect(result.value[0].value).toBe("1");
                expect(result.value[1].value).toBe("2");
                expect(result.value[2].value).toBe("3");
            }
        });
        test("should match zero occurrences", () => {
            const tokens = createTokens("hello");
            const parser = C.many(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(0);
                expect(result.remaining).toEqual(tokens);
            }
        });
        test("should handle empty input", () => {
            const parser = C.many(C.number());
            const result = parser([]);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(0);
                expect(result.remaining).toHaveLength(0);
            }
        });
    });
    describe("many1", () => {
        test("should match one or more occurrences", () => {
            const tokens = createTokens("1 2 3");
            const parser = C.many1(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(3);
                expect(result.value[0].value).toBe("1");
                expect(result.value[1].value).toBe("2");
                expect(result.value[2].value).toBe("3");
            }
        });
        test("should fail on zero occurrences", () => {
            const tokens = createTokens("hello");
            const parser = C.many1(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toBe("Expected at least one occurrence");
            }
        });
        test("should fail on empty input", () => {
            const parser = C.many1(C.number());
            const result = parser([]);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toBe("Expected at least one occurrence");
            }
        });
    });
    describe("optional", () => {
        test("should match when parser succeeds", () => {
            const tokens = createTokensWithoutEOF("42");
            const parser = C.optional(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).not.toBeNull();
                if (result.value) {
                    expect(result.value.value).toBe("42");
                }
                expect(result.remaining).toHaveLength(0);
            }
        });
        test("should return null when parser fails", () => {
            const tokens = createTokens("hello");
            const parser = C.optional(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toBeNull();
                expect(result.remaining).toEqual(tokens);
            }
        });
        test("should handle empty input", () => {
            const parser = C.optional(C.number());
            const result = parser([]);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toBeNull();
                expect(result.remaining).toHaveLength(0);
            }
        });
    });
    describe("map", () => {
        test("should transform successful parse result", () => {
            const tokens = createTokensWithoutEOF("42");
            const parser = C.map(C.number(), (token) => parseInt(token.value));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toBe(42);
                expect(result.remaining).toHaveLength(0);
            }
        });
        test("should preserve failure", () => {
            const tokens = createTokens("hello");
            const parser = C.map(C.number(), (token) => parseInt(token.value));
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected NUMBER");
                expect(result.error).toContain("but got IDENTIFIER");
            }
        });
    });
    describe("lazy", () => {
        test("should defer parser creation", () => {
            const tokens = createTokens("42");
            let called = false;
            const parser = C.lazy(() => {
                called = true;
                return C.number();
            });
            expect(called).toBe(false);
            const result = parser(tokens);
            expect(called).toBe(true);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
            }
        });
        test("should handle recursive parsers", () => {
            // This tests that lazy works for recursive definitions
            const tokens = createTokens("42");
            const parser = C.lazy(() => C.choice(C.number(), C.identifier()));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
            }
        });
    });
    describe("sepBy", () => {
        test("should parse elements separated by separator", () => {
            const tokens = createTokens("1, 2, 3");
            const parser = C.sepBy(C.number(), C.punctuation(","));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(3);
                expect(result.value[0].value).toBe("1");
                expect(result.value[1].value).toBe("2");
                expect(result.value[2].value).toBe("3");
            }
        });
        test("should parse single element", () => {
            const tokens = createTokens("1");
            const parser = C.sepBy(C.number(), C.punctuation(","));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(1);
                expect(result.value[0].value).toBe("1");
            }
        });
        test("should parse zero elements", () => {
            const tokens = createTokens("hello");
            const parser = C.sepBy(C.number(), C.punctuation(","));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(0);
                expect(result.remaining).toEqual(tokens);
            }
        });
        test("should fail if separator is followed by invalid element", () => {
            const tokens = createTokens("1, hello");
            const parser = C.sepBy(C.number(), C.punctuation(","));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                // sepBy should stop at the first failure, not fail entirely
                expect(result.value).toHaveLength(1);
                expect(result.value[0].value).toBe("1");
            }
        });
    });
    describe("parseAll", () => {
        test("should succeed when parser consumes all input", () => {
            const tokens = createTokensWithoutEOF("42");
            const parser = C.parseAll(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
            }
        });
        test("should fail when input remains", () => {
            const tokens = createTokens("42 hello");
            const parser = C.parseAll(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Unexpected IDENTIFIER");
                expect(result.error).toContain("at end of input");
            }
        });
        test("should preserve parser failure", () => {
            const tokens = createTokens("hello");
            const parser = C.parseAll(C.number());
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected NUMBER");
                expect(result.error).toContain("but got IDENTIFIER");
            }
        });
    });
    describe("convenience parsers", () => {
        test("identifier should match identifiers", () => {
            const tokens = createTokens("hello");
            const result = C.identifier()(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("IDENTIFIER");
                expect(result.value.value).toBe("hello");
            }
        });
        test("number should match numbers", () => {
            const tokens = createTokens("42");
            const result = C.number()(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("NUMBER");
                expect(result.value.value).toBe("42");
            }
        });
        test("string should match strings", () => {
            const tokens = createTokens('"hello"');
            const result = C.string()(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("STRING");
                expect(result.value.value).toBe("hello");
            }
        });
        test("keyword should match specific keywords", () => {
            const tokens = createTokens("if");
            const result = C.keyword("if")(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("KEYWORD");
                expect(result.value.value).toBe("if");
            }
        });
        test("operator should match specific operators", () => {
            const tokens = createTokens("+");
            const result = C.operator("+")(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("OPERATOR");
                expect(result.value.value).toBe("+");
            }
        });
        test("punctuation should match specific punctuation", () => {
            const tokens = createTokens("(");
            const result = C.punctuation("(")(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("PUNCTUATION");
                expect(result.value.value).toBe("(");
            }
        });
        test("accessor should match accessors", () => {
            const tokens = createTokens("@field");
            const result = C.accessor()(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value.type).toBe("ACCESSOR");
                expect(result.value.value).toBe("field");
            }
        });
    });
    describe("complex combinations", () => {
        test("should handle nested sequences and choices", () => {
            const tokens = createTokens("x = 42");
            const parser = C.map(C.seq(C.identifier(), C.choice(C.operator("="), C.operator(":=")), C.choice(C.number(), C.string())), ([id, op, val]) => ({
                variable: id.value,
                operator: op.value,
                value: val.value,
            }));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toEqual({
                    variable: "x",
                    operator: "=",
                    value: "42",
                });
            }
        });
        test("should handle many with separator", () => {
            const tokens = createTokens("1, 2, 3, 4");
            const parser = C.sepBy(C.number(), C.punctuation(","));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toHaveLength(4);
                expect(result.value.map((t) => t.value)).toEqual(["1", "2", "3", "4"]);
            }
        });
        test("should handle optional with fallback", () => {
            const tokens = createTokens("42");
            const parser = C.map(C.seq(C.number(), C.optional(C.punctuation("!"))), ([num, bang]) => ({
                value: parseInt(num.value),
                isExclamation: bang !== null,
            }));
            const result = parser(tokens);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.value).toEqual({
                    value: 42,
                    isExclamation: false,
                });
            }
        });
    });
    describe("error handling", () => {
        test("should provide meaningful error messages", () => {
            const tokens = createTokens("hello");
            const parser = C.seq(C.number(), C.operator("+"), C.number());
            const result = parser(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error).toContain("Expected NUMBER");
                expect(result.error).toContain("but got IDENTIFIER");
                expect(result.position).toBeGreaterThan(0);
            }
        });
        test("should track position for error reporting", () => {
            const tokens = createTokens("hello");
            const result = C.number()(tokens);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.position).toBeGreaterThan(0);
            }
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRTlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ3BCLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQ2xELE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQ3JELE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7WUFDckQsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVsQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNwQixNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QyxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2UvdGVzdC9jb21iaW5hdG9ycy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExleGVyIH0gZnJvbSBcIi4uL3NyYy9sZXhlclwiO1xuaW1wb3J0ICogYXMgQyBmcm9tIFwiLi4vc3JjL3BhcnNlci9jb21iaW5hdG9yc1wiO1xuXG5kZXNjcmliZShcIlBhcnNlciBDb21iaW5hdG9yc1wiLCAoKSA9PiB7XG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgdG9rZW5zIGZvciB0ZXN0aW5nXG4gIGNvbnN0IGNyZWF0ZVRva2VucyA9IChpbnB1dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbGV4ZXIgPSBuZXcgTGV4ZXIoaW5wdXQpO1xuICAgIHJldHVybiBsZXhlci50b2tlbml6ZSgpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgdG9rZW5zIHdpdGhvdXQgRU9GIGZvciB0ZXN0aW5nXG4gIGNvbnN0IGNyZWF0ZVRva2Vuc1dpdGhvdXRFT0YgPSAoaW5wdXQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGxleGVyID0gbmV3IExleGVyKGlucHV0KTtcbiAgICBjb25zdCB0b2tlbnMgPSBsZXhlci50b2tlbml6ZSgpO1xuICAgIC8vIFJlbW92ZSBFT0YgdG9rZW4gZm9yIHRlc3RpbmdcbiAgICByZXR1cm4gdG9rZW5zLmZpbHRlcigodCkgPT4gdC50eXBlICE9PSBcIkVPRlwiKTtcbiAgfTtcblxuICBkZXNjcmliZShcInRva2VuXCIsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIG1hdGNoIGV4YWN0IHRva2VuIHR5cGUgYW5kIHZhbHVlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2Vuc1dpdGhvdXRFT0YoXCI0MlwiKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMudG9rZW4oXCJOVU1CRVJcIiwgXCI0MlwiKSh0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS50eXBlKS50b0JlKFwiTlVNQkVSXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiNDJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQucmVtYWluaW5nKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIG1hdGNoIHRva2VuIHR5cGUgd2l0aG91dCB2YWx1ZSBjb25zdHJhaW50XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjQyXCIpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gQy50b2tlbihcIk5VTUJFUlwiKSh0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS50eXBlKS50b0JlKFwiTlVNQkVSXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiNDJcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGZhaWwgb24gd3JvbmcgdG9rZW4gdHlwZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCI0MlwiKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMudG9rZW4oXCJJREVOVElGSUVSXCIpKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIkV4cGVjdGVkIElERU5USUZJRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcImJ1dCBnb3QgTlVNQkVSXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBmYWlsIG9uIHdyb25nIHRva2VuIHZhbHVlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjQyXCIpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gQy50b2tlbihcIk5VTUJFUlwiLCBcIjQzXCIpKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIkV4cGVjdGVkIE5VTUJFUiAnNDMnXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJidXQgZ290IE5VTUJFUiAnNDInXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBmYWlsIG9uIGVtcHR5IGlucHV0XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMudG9rZW4oXCJOVU1CRVJcIikoW10pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJFeHBlY3RlZCBOVU1CRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcImJ1dCBnb3QgZW5kIG9mIGlucHV0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImFueVRva2VuXCIsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIG1hdGNoIGFueSB0b2tlblwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnNXaXRob3V0RU9GKFwiNDJcIik7XG4gICAgICBjb25zdCByZXN1bHQgPSBDLmFueVRva2VuKCkodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudHlwZSkudG9CZShcIk5VTUJFUlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS52YWx1ZSkudG9CZShcIjQyXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnJlbWFpbmluZykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBmYWlsIG9uIGVtcHR5IGlucHV0XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMuYW55VG9rZW4oKShbXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoXCJFeHBlY3RlZCBhbnkgdG9rZW4sIGJ1dCBnb3QgZW5kIG9mIGlucHV0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInNlcVwiLCAoKSA9PiB7XG4gICAgdGVzdChcInNob3VsZCBtYXRjaCBzZXF1ZW5jZSBvZiBwYXJzZXJzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2Vuc1dpdGhvdXRFT0YoXCJ4ID0gNDJcIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLnNlcShDLmlkZW50aWZpZXIoKSwgQy5vcGVyYXRvcihcIj1cIiksIEMubnVtYmVyKCkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWVbMF0udHlwZSkudG9CZShcIklERU5USUZJRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWVbMF0udmFsdWUpLnRvQmUoXCJ4XCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlWzFdLnR5cGUpLnRvQmUoXCJPUEVSQVRPUlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVsxXS52YWx1ZSkudG9CZShcIj1cIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWVbMl0udHlwZSkudG9CZShcIk5VTUJFUlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVsyXS52YWx1ZSkudG9CZShcIjQyXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnJlbWFpbmluZykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBmYWlsIGlmIGFueSBwYXJzZXIgaW4gc2VxdWVuY2UgZmFpbHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwieCA9IDQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5zZXEoXG4gICAgICAgIEMuaWRlbnRpZmllcigpLFxuICAgICAgICBDLm9wZXJhdG9yKFwiK1wiKSwgLy8gV3Jvbmcgb3BlcmF0b3JcbiAgICAgICAgQy5udW1iZXIoKSxcbiAgICAgICk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKFwiRXhwZWN0ZWQgT1BFUkFUT1IgJysnXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJidXQgZ290IE9QRVJBVE9SICc9J1wiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgaGFuZGxlIGVtcHR5IHNlcXVlbmNlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcInggPSA0MlwiKTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMuc2VxKCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZW1haW5pbmcpLnRvRXF1YWwodG9rZW5zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJjaG9pY2VcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgbWF0Y2ggZmlyc3Qgc3VjY2Vzc2Z1bCBwYXJzZXJcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiNDJcIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLmNob2ljZShDLm51bWJlcigpLCBDLmlkZW50aWZpZXIoKSwgQy5zdHJpbmcoKSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudHlwZSkudG9CZShcIk5VTUJFUlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS52YWx1ZSkudG9CZShcIjQyXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCB0cnkgYWxsIHBhcnNlcnMgaW4gb3JkZXJcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiaGVsbG9cIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLmNob2ljZShDLm51bWJlcigpLCBDLmlkZW50aWZpZXIoKSwgQy5zdHJpbmcoKSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudHlwZSkudG9CZShcIklERU5USUZJRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudmFsdWUpLnRvQmUoXCJoZWxsb1wiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgZmFpbCBpZiBhbGwgcGFyc2VycyBmYWlsXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5jaG9pY2UoQy5pZGVudGlmaWVyKCksIEMuc3RyaW5nKCkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIkV4cGVjdGVkIElERU5USUZJRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcImJ1dCBnb3QgTlVNQkVSXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBoYW5kbGUgZW1wdHkgY2hvaWNlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5jaG9pY2UoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKFwiXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIm1hbnlcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgbWF0Y2ggemVybyBvciBtb3JlIG9jY3VycmVuY2VzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjEgMiAzXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5tYW55KEMubnVtYmVyKCkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWVbMF0udmFsdWUpLnRvQmUoXCIxXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlWzFdLnZhbHVlKS50b0JlKFwiMlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVsyXS52YWx1ZSkudG9CZShcIjNcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIG1hdGNoIHplcm8gb2NjdXJyZW5jZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiaGVsbG9cIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLm1hbnkoQy5udW1iZXIoKSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZW1haW5pbmcpLnRvRXF1YWwodG9rZW5zKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgaGFuZGxlIGVtcHR5IGlucHV0XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMubWFueShDLm51bWJlcigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcihbXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQucmVtYWluaW5nKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwibWFueTFcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgbWF0Y2ggb25lIG9yIG1vcmUgb2NjdXJyZW5jZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiMSAyIDNcIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLm1hbnkxKEMubnVtYmVyKCkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWVbMF0udmFsdWUpLnRvQmUoXCIxXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlWzFdLnZhbHVlKS50b0JlKFwiMlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVsyXS52YWx1ZSkudG9CZShcIjNcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGZhaWwgb24gemVybyBvY2N1cnJlbmNlc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCJoZWxsb1wiKTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMubWFueTEoQy5udW1iZXIoKSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZShcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBvY2N1cnJlbmNlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBmYWlsIG9uIGVtcHR5IGlucHV0XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMubWFueTEoQy5udW1iZXIoKSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIoW10pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIG9jY3VycmVuY2VcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwib3B0aW9uYWxcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgbWF0Y2ggd2hlbiBwYXJzZXIgc3VjY2VlZHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zV2l0aG91dEVPRihcIjQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5vcHRpb25hbChDLm51bWJlcigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZSkubm90LnRvQmVOdWxsKCk7XG4gICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiNDJcIik7XG4gICAgICAgIH1cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZW1haW5pbmcpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgcmV0dXJuIG51bGwgd2hlbiBwYXJzZXIgZmFpbHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiaGVsbG9cIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLm9wdGlvbmFsKEMubnVtYmVyKCkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnJlbWFpbmluZykudG9FcXVhbCh0b2tlbnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBoYW5kbGUgZW1wdHkgaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5vcHRpb25hbChDLm51bWJlcigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcihbXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnJlbWFpbmluZykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIm1hcFwiLCAoKSA9PiB7XG4gICAgdGVzdChcInNob3VsZCB0cmFuc2Zvcm0gc3VjY2Vzc2Z1bCBwYXJzZSByZXN1bHRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zV2l0aG91dEVPRihcIjQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5tYXAoQy5udW1iZXIoKSwgKHRva2VuKSA9PiBwYXJzZUludCh0b2tlbi52YWx1ZSkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0JlKDQyKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZW1haW5pbmcpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgcHJlc2VydmUgZmFpbHVyZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCJoZWxsb1wiKTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMubWFwKEMubnVtYmVyKCksICh0b2tlbikgPT4gcGFyc2VJbnQodG9rZW4udmFsdWUpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJFeHBlY3RlZCBOVU1CRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcImJ1dCBnb3QgSURFTlRJRklFUlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJsYXp5XCIsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIGRlZmVyIHBhcnNlciBjcmVhdGlvblwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCI0MlwiKTtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMubGF6eSgoKSA9PiB7XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBDLm51bWJlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjYWxsZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG4gICAgICBleHBlY3QoY2FsbGVkKS50b0JlKHRydWUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS50eXBlKS50b0JlKFwiTlVNQkVSXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiNDJcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGhhbmRsZSByZWN1cnNpdmUgcGFyc2Vyc1wiLCAoKSA9PiB7XG4gICAgICAvLyBUaGlzIHRlc3RzIHRoYXQgbGF6eSB3b3JrcyBmb3IgcmVjdXJzaXZlIGRlZmluaXRpb25zXG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCI0MlwiKTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMubGF6eSgoKSA9PiBDLmNob2ljZShDLm51bWJlcigpLCBDLmlkZW50aWZpZXIoKSkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnR5cGUpLnRvQmUoXCJOVU1CRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudmFsdWUpLnRvQmUoXCI0MlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJzZXBCeVwiLCAoKSA9PiB7XG4gICAgdGVzdChcInNob3VsZCBwYXJzZSBlbGVtZW50cyBzZXBhcmF0ZWQgYnkgc2VwYXJhdG9yXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjEsIDIsIDNcIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLnNlcEJ5KEMubnVtYmVyKCksIEMucHVuY3R1YXRpb24oXCIsXCIpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZSkudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlWzBdLnZhbHVlKS50b0JlKFwiMVwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVsxXS52YWx1ZSkudG9CZShcIjJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWVbMl0udmFsdWUpLnRvQmUoXCIzXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBwYXJzZSBzaW5nbGUgZWxlbWVudFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCIxXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5zZXBCeShDLm51bWJlcigpLCBDLnB1bmN0dWF0aW9uKFwiLFwiKSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVswXS52YWx1ZSkudG9CZShcIjFcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIHBhcnNlIHplcm8gZWxlbWVudHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiaGVsbG9cIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLnNlcEJ5KEMubnVtYmVyKCksIEMucHVuY3R1YXRpb24oXCIsXCIpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZSkudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LnJlbWFpbmluZykudG9FcXVhbCh0b2tlbnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBmYWlsIGlmIHNlcGFyYXRvciBpcyBmb2xsb3dlZCBieSBpbnZhbGlkIGVsZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiMSwgaGVsbG9cIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLnNlcEJ5KEMubnVtYmVyKCksIEMucHVuY3R1YXRpb24oXCIsXCIpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gc2VwQnkgc2hvdWxkIHN0b3AgYXQgdGhlIGZpcnN0IGZhaWx1cmUsIG5vdCBmYWlsIGVudGlyZWx5XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZVswXS52YWx1ZSkudG9CZShcIjFcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwicGFyc2VBbGxcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgc3VjY2VlZCB3aGVuIHBhcnNlciBjb25zdW1lcyBhbGwgaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zV2l0aG91dEVPRihcIjQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5wYXJzZUFsbChDLm51bWJlcigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS50eXBlKS50b0JlKFwiTlVNQkVSXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiNDJcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGZhaWwgd2hlbiBpbnB1dCByZW1haW5zXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjQyIGhlbGxvXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5wYXJzZUFsbChDLm51bWJlcigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJVbmV4cGVjdGVkIElERU5USUZJRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcImF0IGVuZCBvZiBpbnB1dFwiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgcHJlc2VydmUgcGFyc2VyIGZhaWx1cmVcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiaGVsbG9cIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLnBhcnNlQWxsKEMubnVtYmVyKCkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIkV4cGVjdGVkIE5VTUJFUlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKFwiYnV0IGdvdCBJREVOVElGSUVSXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImNvbnZlbmllbmNlIHBhcnNlcnNcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJpZGVudGlmaWVyIHNob3VsZCBtYXRjaCBpZGVudGlmaWVyc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCJoZWxsb1wiKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMuaWRlbnRpZmllcigpKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnR5cGUpLnRvQmUoXCJJREVOVElGSUVSXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiaGVsbG9cIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwibnVtYmVyIHNob3VsZCBtYXRjaCBudW1iZXJzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcIjQyXCIpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gQy5udW1iZXIoKSh0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS50eXBlKS50b0JlKFwiTlVNQkVSXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiNDJcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic3RyaW5nIHNob3VsZCBtYXRjaCBzdHJpbmdzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucygnXCJoZWxsb1wiJyk7XG4gICAgICBjb25zdCByZXN1bHQgPSBDLnN0cmluZygpKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnR5cGUpLnRvQmUoXCJTVFJJTkdcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudmFsdWUpLnRvQmUoXCJoZWxsb1wiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJrZXl3b3JkIHNob3VsZCBtYXRjaCBzcGVjaWZpYyBrZXl3b3Jkc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCJpZlwiKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMua2V5d29yZChcImlmXCIpKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnR5cGUpLnRvQmUoXCJLRVlXT1JEXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiaWZcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwib3BlcmF0b3Igc2hvdWxkIG1hdGNoIHNwZWNpZmljIG9wZXJhdG9yc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCIrXCIpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gQy5vcGVyYXRvcihcIitcIikodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudHlwZSkudG9CZShcIk9QRVJBVE9SXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiK1wiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJwdW5jdHVhdGlvbiBzaG91bGQgbWF0Y2ggc3BlY2lmaWMgcHVuY3R1YXRpb25cIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiKFwiKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEMucHVuY3R1YXRpb24oXCIoXCIpKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnR5cGUpLnRvQmUoXCJQVU5DVFVBVElPTlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZS52YWx1ZSkudG9CZShcIihcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiYWNjZXNzb3Igc2hvdWxkIG1hdGNoIGFjY2Vzc29yc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCJAZmllbGRcIik7XG4gICAgICBjb25zdCByZXN1bHQgPSBDLmFjY2Vzc29yKCkodG9rZW5zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUudHlwZSkudG9CZShcIkFDQ0VTU09SXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlLnZhbHVlKS50b0JlKFwiZmllbGRcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiY29tcGxleCBjb21iaW5hdGlvbnNcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgaGFuZGxlIG5lc3RlZCBzZXF1ZW5jZXMgYW5kIGNob2ljZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwieCA9IDQyXCIpO1xuICAgICAgY29uc3QgcGFyc2VyID0gQy5tYXAoXG4gICAgICAgIEMuc2VxKFxuICAgICAgICAgIEMuaWRlbnRpZmllcigpLFxuICAgICAgICAgIEMuY2hvaWNlKEMub3BlcmF0b3IoXCI9XCIpLCBDLm9wZXJhdG9yKFwiOj1cIikpLFxuICAgICAgICAgIEMuY2hvaWNlKEMubnVtYmVyKCksIEMuc3RyaW5nKCkpLFxuICAgICAgICApLFxuICAgICAgICAoW2lkLCBvcCwgdmFsXSkgPT4gKHtcbiAgICAgICAgICB2YXJpYWJsZTogaWQudmFsdWUsXG4gICAgICAgICAgb3BlcmF0b3I6IG9wLnZhbHVlLFxuICAgICAgICAgIHZhbHVlOiB2YWwudmFsdWUsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWx1ZSkudG9FcXVhbCh7XG4gICAgICAgICAgdmFyaWFibGU6IFwieFwiLFxuICAgICAgICAgIG9wZXJhdG9yOiBcIj1cIixcbiAgICAgICAgICB2YWx1ZTogXCI0MlwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgaGFuZGxlIG1hbnkgd2l0aCBzZXBhcmF0b3JcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiMSwgMiwgMywgNFwiKTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMuc2VwQnkoQy5udW1iZXIoKSwgQy5wdW5jdHVhdGlvbihcIixcIikpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0hhdmVMZW5ndGgoNCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsdWUubWFwKCh0KSA9PiB0LnZhbHVlKSkudG9FcXVhbChbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCJdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgaGFuZGxlIG9wdGlvbmFsIHdpdGggZmFsbGJhY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3JlYXRlVG9rZW5zKFwiNDJcIik7XG4gICAgICBjb25zdCBwYXJzZXIgPSBDLm1hcChcbiAgICAgICAgQy5zZXEoQy5udW1iZXIoKSwgQy5vcHRpb25hbChDLnB1bmN0dWF0aW9uKFwiIVwiKSkpLFxuICAgICAgICAoW251bSwgYmFuZ10pID0+ICh7XG4gICAgICAgICAgdmFsdWU6IHBhcnNlSW50KG51bS52YWx1ZSksXG4gICAgICAgICAgaXNFeGNsYW1hdGlvbjogYmFuZyAhPT0gbnVsbCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbHVlKS50b0VxdWFsKHtcbiAgICAgICAgICB2YWx1ZTogNDIsXG4gICAgICAgICAgaXNFeGNsYW1hdGlvbjogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImVycm9yIGhhbmRsaW5nXCIsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIHByb3ZpZGUgbWVhbmluZ2Z1bCBlcnJvciBtZXNzYWdlc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBjcmVhdGVUb2tlbnMoXCJoZWxsb1wiKTtcbiAgICAgIGNvbnN0IHBhcnNlciA9IEMuc2VxKEMubnVtYmVyKCksIEMub3BlcmF0b3IoXCIrXCIpLCBDLm51bWJlcigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlcih0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJFeHBlY3RlZCBOVU1CRVJcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcImJ1dCBnb3QgSURFTlRJRklFUlwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5wb3NpdGlvbikudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCB0cmFjayBwb3NpdGlvbiBmb3IgZXJyb3IgcmVwb3J0aW5nXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGNyZWF0ZVRva2VucyhcImhlbGxvXCIpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gQy5udW1iZXIoKSh0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LnBvc2l0aW9uKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=