constraint Show a ( show : a -> String );

# Define the Option type
type Option a = Some a | None;

# Basic implementations
implement Show String ( show = fn s => s );

# Conditional implementation - this should work now!
implement Show (Option a) given a implements Show (
  show = fn opt => match opt with (
    Some x => "Some(value)";
    None => "None"
  )
);

# Test usage
test_value = Some "hello";
result = show test_value;